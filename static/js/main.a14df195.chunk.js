(this["webpackJsonpreact_redux-list-of-posts"]=this["webpackJsonpreact_redux-list-of-posts"]||[]).push([[0],{29:function(e,t,n){e.exports=n(41)},39:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(11),u=n.n(c),o=n(2),l=n(27),s=n(15),i=n(7),m=n.n(i),p=n(14),f=n(28),d=n(5),E=n(23),b=n(24),v=n(25),h=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"START_LOADING":return!0;case"FINISH_LOADING":return!1;default:return e}},O=function(e){return{type:"SET_MESSAGE",message:e}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MESSAGE":return t.message;default:return e}},j=n(8),_="https://mate-academy.github.io/react_dynamic-list-of-posts/api",g=function(){var e=Object(p.a)(m.a.mark((function e(){var t,n,r,a,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([fetch("".concat(_,"/posts.json")).then((function(e){return e.json()})),fetch("".concat(_,"/users.json")).then((function(e){return e.json()})),fetch("".concat(_,"/comments.json")).then((function(e){return e.json()}))]);case 2:return t=e.sent,n=Object(s.a)(t,3),r=n[0],a=n[1],c=n[2],e.abrupt("return",r.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{user:a.find((function(t){return e.userId===t.id})),comments:c.filter((function(t){return t.postId===e.id}))})})));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_POSTS":return t.posts;case"REMOVE_POST":return e.filter((function(e){return e.id!==t.id}));case"REMOVE_COMMENT":return e.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{comments:e.comments.filter((function(e){return e.id!==t.id}))})}));default:return e}},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_QUERY":return t.query;default:return e}},T=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"VISIBILITY":return!0;default:return e}},N=Object(d.combineReducers)({loading:h,message:y,posts:S,query:I,visibility:T}),w=function(e){return e.loading},R=function(e){return e.visibility},k=Object(v.a)((function(e){return e.posts}),(function(e){return e.query}),(function(e,t){return Object(f.a)(e).filter((function(e){return(e.title+e.body).toLowerCase().includes(t.toLowerCase())}))})),L=Object(d.createStore)(N,Object(E.composeWithDevTools)(Object(d.applyMiddleware)(b.a))),M=function(e){var t=e.user,n=t.name,r=t.email,c=t.address;return a.a.createElement("div",{className:"post__user"},a.a.createElement("p",null,n),a.a.createElement("p",null,r),a.a.createElement("p",null,c.street),a.a.createElement("p",null,c.suite),a.a.createElement("p",null,c.city),a.a.createElement("p",null,c.zipcode))},x=function(e){var t=e.comment,n=t.name,r=t.body,c=t.email,u=Object(o.b)();return a.a.createElement("div",{className:"post__comment"},a.a.createElement("p",null,n),a.a.createElement("p",null,r),a.a.createElement("p",null,c),a.a.createElement("button",{type:"button",className:"button",onClick:function(){return u({type:"REMOVE_COMMENT",id:t.id})}},"Remove"))},C=function(e){var t=e.comments;return a.a.createElement(a.a.Fragment,null,a.a.createElement("h2",null,"Comments"),t.map((function(e){return a.a.createElement(x,{key:e.id,comment:e})})))},A=function(e){var t=e.post,n=Object(o.b)();return a.a.createElement(a.a.Fragment,null,a.a.createElement("li",{className:"post__item"},a.a.createElement("button",{type:"button",className:"button",onClick:function(){return n({type:"REMOVE_POST",id:t.id})}},"Remove"),a.a.createElement("h2",null,t.title),a.a.createElement("p",null,t.body),a.a.createElement(M,{user:t.user}),a.a.createElement(C,{comments:t.comments})))},D=n(26),G=n.n(D),V=function(){var e=Object(o.c)(k),t=Object(o.b)(),n=Object(r.useState)(""),c=Object(s.a)(n,2),u=c[0],l=c[1],i=Object(o.c)(R),m=Object(r.useCallback)(G()((function(e){return t({type:"SET_QUERY",query:e})}),500),[]);return a.a.createElement(a.a.Fragment,null,i&&a.a.createElement("input",{className:"post__input",placeholder:"Enter words for searching",type:"text",value:u,onChange:function(e){var t=e.target.value;l(t),m(t)}}),a.a.createElement("ul",{className:"post__list"},e.map((function(e){return a.a.createElement(A,{key:e.id,post:e})}))))},F=(n(39),function(){var e=Object(o.b)(),t=Object(o.c)(w);return a.a.createElement("button",{type:"button",className:"button",onClick:function(){return e(function(){var e=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"START_LOADING"}),t({type:"VISIBILITY"}),e.prev=2,e.next=5,g();case 5:n=e.sent,t(O("Data is received")),t({type:"SET_POSTS",posts:n}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),t(O("Error occurred when loading data"));case 13:t({type:"FINISH_LOADING"});case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}())},disabled:t},t?"Loading...":"Load")}),P=function(){var e=Object(o.c)(w),t=Object(o.c)(R);return a.a.createElement("div",{className:"App"},a.a.createElement("h1",null,"Redux list of posts"),!t&&a.a.createElement(F,null),e?"Loading...":a.a.createElement(V,null))},q=function(){return a.a.createElement(o.a,{store:L},a.a.createElement(l.a,null,a.a.createElement(P,null)))};u.a.render(a.a.createElement(q,null),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.a14df195.chunk.js.map